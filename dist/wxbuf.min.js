/*!
 * wxbuf.js v1.0.0
 * (c) 2024 lingluo
 * the MIT License.
 */
const t=function(t){return Object.prototype.toString.call(t)==="[object Object]"};const e=function(t){return Object.prototype.toString.call(t)==="[object Number]"};const n=function(t){return Object.prototype.toString.call(t)==="[object Function]"};const o=function(t){return Object.prototype.toString.call(t)==="[object String]"};const r=function(t,e){return t.hasOwnProperty(e)};const s=function(t){return Array.isArray(t)};const i=function(e){if(t(e)){return!Object.keys(e).length}if(s(e)){return!e.length}if(o(e)){return e.trim()}if(e===null||e===undefined){return true}return false};const c=function(t,...e){return Object.assign(t,...e)};const a=function(t,e){t=t.split("");t[e]=t[e].toUpperCase();return t.join("")};const u=function(t,e=""){return e+t.split("?")[0].replace(/^\/+/,"")};const f=function(){};const l=function(e){return e&&t(e)&&e.target&&e.timeStamp&&e.currentTarget&&e.type};const p=function(t){let e,n;e=n=t.selectOwnerComponent();if(n===null){return t}while(e=n.selectOwnerComponent()){n=e}return n};const h=function(e){if(!t(e)){return""}const n=[];for(let o in e){if(e.hasOwnProperty(o)){let r=e[o];if(t(r)||s(r)){r=JSON.stringify(r)}n.push(`${o}=${r}`)}}return n.join("&")};const g=function(t=""){const e={};const n=t.split("&");if(n.length){n.forEach((t=>{const[n,o]=t.split("=");e[n]=o}))}return e};const d=function(e,n){n=t(n)?h(n):n;return n?[e,n].join(e.includes("?")?"&":"?"):e};const w=function(n,o=false){if(!t(n)||o){return n}for(let o in n){const i=n[o];if(r(n,o)&&i){try{const r=JSON.parse(i);if(t(r)||s(r)||r===null){n[o]=r}else if(e(r)&&i===r.toString()){n[o]=r}}catch(t){}if(i==="undefined"){n[o]=undefined}else if(i==="true"){n[o]=true}else if(i==="false"){n[o]=false}}}return n};const m=function(){if(__wxConfig&&__wxConfig.tabBar&&__wxConfig.tabBar.list){return __wxConfig.tabBar.list.map((t=>t.pagePath.replace(/\.html$/,"")))}return[]};const S=function(t){return m().includes(u(t))};const x=function(){const t=getCurrentPages().slice(0).pop();if(t&&__wxConfig&&__wxConfig.page&&__wxConfig.page[t.route+".html"]){return __wxConfig.page[t.route+".html"].window.navigationBarTitleText}return""};const $=function(t){return __wxAppCode__?__wxAppCode__[t.replace(/^\//,"")+".json"]||{}:{}};const y=t=>{if(/->/.test(t)){const[e,n]=t.split("->").map((t=>o(t)?t.trim():t));t=n?n:e;return[e,t]}return[t,t]};const v=function(t,e,n){if(!r(t,e)){Object.defineProperty(t,e,{get:()=>n})}};const P=[];const b=[];function T(t){P.push(t)}function _(t){const e=P.indexOf(t);const n=P[e]||null;if(e>-1){P.splice(e,1)}return n}function O(t){b.push(t)}function E(t){const e=b.findIndex((e=>e.context===t));const n=b.find((e=>e.context===t));if(e>-1){b.splice(e,1)}return n}function k(){return P.slice(0)}function A(){return b.slice(0)}function C(){const t=[];P.forEach((e=>{if(n(e.getTabBar)){const o=e.getTabBar();if(o&&n(o.setData)){t.push(o)}}}));return t}const B=function(t,e){const n=e.split("?")[1];e=e.split("?")[0];const o=e.startsWith("/")?[]:t.split("/");const r=e.split("/");let s=null;o.pop();while(r.length){s=r.shift();if(s===".."){o.pop()}else if(s===""||s==="."){continue}else if(s.indexOf(".")===-1){o.push(s)}else{throw new Error(`path'${e}' is invalid`)}}return o.join("/").replace(/^\/*/,"/")+(n?`?${n}`:"")};var j={resolve:B};class D{constructor(){this.watchers=[]}add(e){if(t(e)&&!i(e)){this.watchers.push(e)}}invoke(t,e,...n){for(let o=0,r=this.watchers.length;o<r;o++){const r=this.watchers[o];if(r.hasOwnProperty(t)){r[t].call(e,...n)}}}}const L=["data","onLoad","onShow","onReady","onHide","onUnload","onPullDownRefresh","onReachBottom","onShareAppMessage","onShareTimeline","onPageScroll","onTabItemTap","onResize","onAddToFavorites"];const U=wx.getStorageSync;const R=function(){const t={};return{get(e){if(!t.hasOwnProperty(e)){t[e]=U.call(wx,e)}return t[e]===undefined?"":t[e]},set(e,n){t[e]=n},remove(e){delete t[e]}}}();let M={};const I=function(t){M=t};const W=function(t){return M[t]};const N=function(t){if(n(M[t])){return M[t].apply(getApp(),[].slice.call(arguments,1))}};const J={storage:"mixinStorage",store:"mixinStore"};const G={storage:"onStorageChange",store:"onStoreChange"};let K=null;let Q=[];const H=function(t,e){if(e.mixinStore||e.mixinStorage){const n={};Q.forEach((({kvs:t,name:o})=>{const s=e[J[o]]||[];s.forEach((e=>{const[o,s]=y(e);if(r(t,o)){n[s]=t[o]}}))}));if(!i(n)){t.setData(n)}}Q.forEach((({kvs:o,oldkvs:r,name:s})=>{const i=e[G[s]];if(n(i)){i.apply(t,[o,r])}}))};function F(t){z();q(t);V()}function q(t){const e=Q.findIndex((e=>e.name===t.name));if(e>-1){const{kvs:n,oldkvs:o,name:r}=Q[e];t={kvs:c(n,t.kvs),oldkvs:c(o,t.oldkvs),name:r};Q.splice(e,1)}Q.push(t)}function z(){if(K){clearTimeout(K);K=null}}function V(){K=setTimeout((function(){k().forEach((t=>H(t,t)));A().forEach((({context:t,option:e})=>H(t,e)));C().forEach((t=>H(t,t.$constructorOptions)));Q.forEach((({kvs:t,oldkvs:e,name:n})=>N(G[n],t,e)));Q=[]}),0)}const X=new D;let Y={methodPrefix:"",parseUrlArgs:false,enableGlobalShareAppMessage:false,enableGlobalShareTimeline:false,storeKey:"globalData"};const Z={page:{},component:{}};const tt=App;const et=Page;const nt=Component;const ot=Behavior;const rt=wx;const st=wx.setStorage;const it=wx.batchSetStorage;const ct=wx.batchSetStorageSync;const at=wx.removeStorage;wx.getStorageSync;const ut=wx.setStorageSync;const ft=wx.removeStorageSync;const lt=wx.clearStorage;const pt=wx.clearStorageSync;const ht=wx.navigateTo;const gt=wx.redirectTo;const dt=wx.reLaunch;const wt=wx.switchTab;wx=Object.assign(Object.create(rt.__proto__),wx);const mt={extend(t){Z.page=c(Z.page,t)}};const St={extend(t){Z.component=c(Z.component,t)}};const xt=function(t,e){const o=Z[e];for(let e in o){const r=o[e];if(n(r)){t[e]=r}}};const $t=function(t,e,...n){X.invoke(e,t,...n)};const yt=function(t,e=true){for(let o in t){if(t.hasOwnProperty(o)&&(!e||!L.includes(o))&&n(t[o])){const e=t[o];t[o]=function(t){if(l(t)&&!t._ignore){$t(this,"on"+a(t.type,0),c(t,{path:p(this).route}))}if(e){if(W("onEventDispatch")&&l(t)&&!t._ignore){let n=true;let o=[t];const r=function(){n=false;o=[].slice.call(arguments,0)};N("onEventDispatch",t,r);v(t,"_ignore",true);if(!n){return e.apply(this,o)}}else{if(l(t)){v(t,"_ignore",true)}return e.apply(this,arguments)}}}}}};const vt=function(t){if(!/^\//.test(t.url)){throw new URIError(`url必须以/开头`)}return N("beforePageEnter",t,$(u(t.url)))??true};const Pt=function(t,e=false){const n=d(t.url,t.params);if(e){gt.call(wx,{url:n})}else{ht.call(wx,{url:n})}};const bt=function(t){const e=__wxAppCode__||{};let n;const o=/\.json$/i;for(let s in e){n=e[s];if(r(e,s)&&o.test(s)&&n.name===t){return`/${s.replace(o,"")}`}}return null};const Tt=function(t){if(t.name&&!t.url){const e=bt(t.name);if(!e){throw new Error(`[wxbuf]: 不存在name为'${t.name}'的页面`)}t.url=e}};const _t=function(t){Tt(t);if(vt(t)){Zt(t,this);const e=ne(t);$e(t);Pt(t);return e}return Promise.reject()};const Ot=function(t){Tt(t);if(vt(t)){$e(t);Pt(t,true)}};const Et=function(t,e){if(e.$feature){e.$feature.resolve(t);e.$feature=null}return wx.navigateBack()};const kt=function(t,e){const n=Ft();const o=j.resolve(n?n.route:"/",e.url);if(N("beforePageEnter",Object.assign({},e,{url:o}),$(o))===false){return Promise.reject()}if(t===wt){Pe(e);e.url=e.url.split("?")[0]}return t.call(wx,e)};const At=function(t){return kt(ht,t)};const Ct=function(t){return kt(gt,t)};const Bt=function(t){return kt(dt,t)};const jt=function(t){ve=null;return kt(wt,t)};const Dt=function(e,o){const r={route:this.$route,value:o};const s=function(o,s){if(t(s)&&n(s[e])){s[e].call(o,r)}};k().forEach((t=>s(t,t.listeners)));A().forEach((({context:t,option:e})=>s(t,e.listeners)));C().forEach((t=>s(t,t.$constructorOptions.listeners)));s(getApp(),W("listeners"))};const Lt=function(t,e,n){const o=`mixin${a(n,0)}`;const s=function(e,n=[]){n.forEach((n=>{const[o,s]=y(n);if(r(t,o)){e.data[s]=t[o]}}))};k().forEach((t=>s(t,t[o])));A().forEach((({context:t,option:e})=>s(t,e[o])));C().forEach((t=>s(t,t.$constructorOptions[o])));F({kvs:t,oldkvs:e,name:n})};const Ut=function(t){const{success:e,key:n,data:o}=t;if(!n)return;const r=R.get(n);t.success=function(){R.set(n,o);Lt({[n]:o},{[n]:r},"storage");return(e||f).apply(this,arguments)};return st.apply(wx,arguments)};const Rt=function(t){const{kvList:e,success:n}=t;const o=function(){const t={};e.forEach((({key:e})=>t[e]=It(e)));return t}();t.success=function(){const t={};e.forEach((({key:e,value:n})=>{t[e]=n;R.set(e,n)}));Lt(t,o,"storage");return(n||f).apply(this,arguments)};return it.apply(wx,arguments)};const Mt=function(t){const{key:e,success:n}=t;if(!e)return;const o=R.get(e);t.success=function(){R.remove(e);Lt({[e]:""},{[e]:o});return(n||f).apply(this,arguments)};return at.call(wx,t)};const It=function(t){return R.get(t)};const Wt=function(t,e){if(!t)return;const n=R.get(t);R.set(t,e);ut.call(wx,t,e);Lt({[t]:e},{[t]:n},"storage")};const Nt=function(t){const e={};const n={};t.forEach((({key:t,value:o})=>{e[t]=o;R.set(t,o);n[t]=It(t)}));Lt(e,n,"storage");return ct.apply(wx,arguments)};const Jt=function(t){if(!t)return;const e=R.get(t);R.remove(t);ft.call(wx,t);Lt({[t]:""},{[t]:e},"storage")};const Gt=function(t={}){const e=t.success;const n=rt.getStorageInfoSync().keys;t.success=function(){const t={};const o={};n.forEach((e=>{t[e]="";R.remove(e);o[e]=It(e)}));Lt(t,o,"storage");return(e||f).apply(wx,arguments)};return lt.call(wx,t)};const Kt=function(){const t={};const e={};rt.getStorageInfoSync().keys.forEach((n=>{t[n]="";R.remove(n);e[n]=It(n)}));Lt(t,e,"storage");return pt.apply(wx,arguments)};const Qt=function(t){const e=getApplication()[Y.storeKey];return e?t?e[t]:e:undefined};const Ht=function(t,e){const{storeKey:n}=Y;const o=getApplication();if(!o[n]){o[n]={}}const r=o[n][t];o[n][t]=e;Lt({[t]:e},{[t]:r},"store")};const Ft=function(){const t=getCurrentPages();return t.length?t[t.length-1]:null};const qt=function(t,e){const n=getApp()[Y.storeKey];["Store","Storage"].forEach((o=>{const r=t[`mixin${o}`];if(s(r)){const t={};r.forEach((e=>{const[r,s]=y(e);t[s]=o==="Store"?n[r]:It(r)}));e.setData(t)}}))};const zt=function(t,e,n){const o=t[e];t[e]=function(){n.apply(this,arguments);if(o){return o.apply(this,arguments)}}};const Vt=function(t){const{methodPrefix:e}=Y;t[`${e}openPage`]=_t;t[`${e}replacePage`]=Ot;t[`${e}getStore`]=Qt;t[`${e}setStore`]=Ht;t[`${e}getStorageSync`]=It;t[`${e}setStorageSync`]=Wt;t[`${e}removeStorageSync`]=Jt;t[`${e}setStorage`]=Ut;t[`${e}removeStorage`]=Mt;t[`${e}batchSetStorage`]=Rt;t[`${e}batchSetStorageSync`]=Nt;t[`${e}clearStorage`]=Gt;t[`${e}clearStorageSync`]=Kt;t[`${e}fireEvent`]=Dt};const Xt=function(t){const e=t.getPageId();return new Proxy({},{get(t,o){const r=getCurrentPages().find((t=>t.getPageId()===e));if(r){return n(r[o])?r[o].bind(r):r[o]}else{console.warn("wxbuf: 访问了不存在的页面实例");return undefined}}})};let Yt=null;const Zt=function(t,e){Yt={success:t.success,url:u(t.url),page:e===wx||e===getApp()?Ft():p(e)}};const te=function(t){if(Yt&&Yt.url===t.route){t.$opener=Yt.page;if(n(Yt.success)){Yt.success.call(Yt.page,Xt(t))}Yt=null}else{t.$opener=null}};let ee=null;const ne=function(t){return new Promise(((e,n)=>{ee={resolve:e,url:u(t.url)}}))};const oe=function(t){if(ee&&t.route===ee.url){t.$feature=ee;ee=null}const e=t.onUnload||f;t.onUnload=function(){if(t.$feature){t.$feature.resolve();t.$feature=null}return e.apply(t,arguments)}};const re=function(t){t.$setData=t.setData};const se=function(t,e){const o=t.observers||{};if(i(o))return;const r=e.setData;e.setData=function(t){const s=c({},e.data);r.apply(e,arguments);for(let r in t){const i=o[r];if(t.hasOwnProperty(r)&&n(i)){if(t[r]!==s[r]){i.call(e,t[r],s[r])}}}}};const ie=function(t,e){const o=t.computed||{};if(i(o))return;const r=e.$setData;const s=function(t,e){const o={};for(let r in t){const s=t[r];if(n(s)){o[r]=s.call(e)}}if(!i(o)){r.call(e,o)}};e.setData=function(){r.apply(e,arguments);s(o,e)};s(o,e)};const ce=function(e){if(Y.enableGlobalShareAppMessage&&!e.onShareAppMessage){e.onShareAppMessage=function(e){let n={title:x(),url:`${this.route}${this.$rawParamsQuery?`?${this.$rawParamsQuery}`:""}`};if(W("onPageShareAppMessage")){const o=N("onPageShareAppMessage",this,n,e);if(t(o)){n=o}}return n}}};const ae=function(e){const n=e.onShareAppMessage;if(n){e.onShareAppMessage=function(e){let o=n.call(this,e);if(W("onPageShareAppMessage")){const n=N("onPageShareAppMessage",this,o,e);if(t(n)){o=n}}return o}}};const ue=function(e){if(Y.enableGlobalShareTimeline&&!e.onShareTimeline){e.onShareTimeline=function(){let e={title:x(),query:this.$rawParamsQuery};if(W("onPageShareTimeline")){const n=N("onPageShareTimeline",this,e);if(t(n)){e=n}}return e}}};const fe=function(e){const n=e.onShareTimeline;if(n){e.onShareTimeline=function(){let e=n.call(this);if(W("onPageShareTimeline")){const n=N("onPageShareTimeline",this,e);if(t(n)){e=n}}return e}}};const le=function(e){const o=[];let r=e;let s=null;let i;while(r=r.$parent){s=r.provide;i=true;if(s){if(n(s)){i=false;s=r.provide()}if(t(s)){o.push({parent:r,provide:s,isStatic:i})}}}return o};class pe{constructor(t,e,n){this.parent=t;this.context=e;this.key=n}update(){const t=this.parent.provide();const e=this.key;const o=t[e];if(n(o)){this.context[e]=o.bind(this.parent)}else{this.context.setData({[e]:o})}}}const he=function(t,e){const o=t.inject;if(t.provide){e.provide=t.provide}if(s(o)&&o.length){const t=le(e);o.forEach((o=>{for(let s=0;s<t.length;s++){const{parent:i,provide:c,isStatic:a}=t[s];if(r(c,o)){if(!a){if(!i.$provideWatchers){i.$provideWatchers=[];const t=i.setData;i.setData=function(){const e=t.apply(this,arguments);this.$provideWatchers.forEach((t=>t.update()));return e}}i.$provideWatchers.push(new pe(i,e,o));if(!e.$parentProvides){e.$parentProvides=[]}if(!e.$parentProvides.includes(i)){e.$parentProvides.push(i)}}const t=c[o];if(n(t)){e[o]=t.bind(i)}else{e.setData({[o]:t})}break}}}))}};const ge=function(t,e){return new Proxy(t,{get(t,e){return t[e]},set(t,n,o){const r=t[n];if(r!==o){e&&e({[n]:o},{[n]:r},"store")}t[n]=o;return true}})};let de=null;const we=function(t){de=t};v(globalThis,"getApplication",(function(){return getApp()||de}));v(globalThis,"getSavedPages",k);v(globalThis,"getSavedTabBars",C);App=function(e={}){const{storeKey:n}=Y;I(e);if(!t(e[n])){e[n]={}}e[n]=ge(e[n],Lt);const o=function(...t){we(this);$t(this,"onAppLaunch",...t)};const r=function(){$t(this,"onAppHide")};const s=function(){$t(this,"onAppShow")};zt(e,"onLaunch",o);zt(e,"onHide",r);zt(e,"onShow",s);Vt(e);return tt(e)};const me=function(t,e,n){if(t._ignore){return}const o=t[e]||f;t[e]=function(){if(n.apply(this,arguments)===false){return}return o.apply(this,arguments)};t._ignore=true};const Se=function(t){const e=function(e){const n=j.resolve(t.is,e.url);return N("beforePageEnter",Object.assign({},e,{url:n}),$(u(n)))};me(t.pageRouter,"navigateTo",e);me(t.pageRouter,"redirectTo",e);me(t.pageRouter,"reLaunch",e);me(t.pageRouter,"switchTab",e);me(t.router,"navigateTo",e);me(t.router,"redirectTo",e);me(t.router,"reLaunch",e);me(t.router,"switchTab",e)};let xe=null;const $e=function(t){xe={data:t.body,url:u(t.url)}};const ye=function(t,e){if(xe&&xe.data&&xe.url===e.route){c(t,xe.data);xe=null}};let ve=null;const Pe=function(t){const e=t.url.split("?")[1];if(e){ve={url:u(t.url),data:g(e)}}};const be=function(t,e){if(ve&&S(e.route)&&ve.url===e.route){c(t,ve.data);ve=null}};const Te=function(t){let e=null;const n=S(t.route);if(ve&&n&&ve.url===t.route&&t._wakeUp){const n={};be(n,t);c(t.$params,n);t.$rawParamsQuery=h(t.$params);t.$rawParams=c({},t.$params);w(n,!Y.parseUrlArgs);w(t.$params,!Y.parseUrlArgs);e=n}if(n&&t._wakeUp){if(t.onSwitchTab){t.onSwitchTab(e||{})}Ae("switchTab").call(t,e||{})}};const _e=t=>{if(n(t.getTabBar)){const e=t.getTabBar();if(e&&n(e.setData)){return e}return null}return null};const Oe=function(t){return function(e){T(this);re(this);te(this);ye(e,this);be(e,this);Se(this);oe(this);ie(t,this);qt(t,this);se(t,this);this.$rawParamsQuery=h(e);this.$rawParams=c({},e);this.$route=this.route;w(e,!Y.parseUrlArgs);this.$params=e;const n=_e(this);if(n){n.$page=this;n.$feature=this.$feature;n.$route=this.route}$t(this,"onPageLoad",{option:e,path:this.route});N("onPageLoad",this,{option:e,path:this.route})}};const Ee=(t,e,n)=>{const o=_e(t);if(o&&o.$constructorOptions&&o.$constructorOptions.pageLifetimes&&o.$constructorOptions.pageLifetimes[e]){o.$constructorOptions.pageLifetimes[e].call(o,n)}};const ke=function(t){const e=t.onShow||f;t.onShow=function(){Te(this);$t(this,"onPageShow",{option:this.$params,path:this.route});N("onPageShow",this);Ee(this,"show");const t=e.call(this);if(this._wakeUp&&this.onWakeup){this.onWakeup()}v(this,"_wakeUp",true);return t}};const Ae=function(t,e){return function(n){$t(this,e,c({path:this.route},n||{}));A().forEach((({context:e,page:n,option:o})=>{if(n===this&&o.pageLifetimes&&o.pageLifetimes[t]){o.pageLifetimes[t].apply(e,arguments)}}));Ee(this,t,n)}};Page=function(t){yt(t);ae(t);ce(t);fe(t);ue(t);zt(t,"onLoad",Oe(t));ke(t);zt(t,"onUnload",(function(){_(this);N("onPageUnload",this)}));zt(t,"onPullDownRefresh",Ae("pullDownRefresh","onPagePullDownRefresh"));zt(t,"onReachBottom",Ae("reachBottom","onPageReachBottom"));zt(t,"onPageScroll",Ae("pageScroll","onPageScroll"));t[`${Y.methodPrefix}finish`]=function(t){Et(t,this)};t[`${Y.methodPrefix}invoke`]=function(t,...e){if(this.$opener&&n(this.$opener[t])){return this.$opener[t](...e)}};Vt(t);xt(t,"page");return et(t)};const Ce=function(t,e){const{exportMethods:o}=t;const r=e.selectOwnerComponent();if(o&&r){for(let t in o){const s=o[t];if(o.hasOwnProperty(t)&&n(s)&&!r[t]){r[t]=s.bind(e);r[t].$installedBy=e}}}};const Be=function(t,e){const{exportMethods:n}=t;const o=e.selectOwnerComponent();if(n&&o){for(let t in n){if(o[t]&&o[t].$installedBy===e){delete o[t]}}}};const je=function(){return p(this).$params};const De=function(t,e){t=t||{};t.methods=t.methods||{};t.lifetimes=t.lifetimes||{};const o=t.lifetimes.created||t.created||f;const r=t.lifetimes.attached||t.attached||f;const s=t.lifetimes.ready||t.ready||f;const i=t.lifetimes.detached||t.detached||f;const c=function(){try{re(this);Se(this)}catch(t){}if(e===nt){N("onComponentCreated",this)}return o.apply(this,arguments)};const a=function(){const n=e===nt;if(n){this.$constructorOptions=t}const o=p(this);if(o.route){O({context:this,option:t,type:n?"component":"behavior",page:o})}this.$route=o.route;this.$feature=o.$feature;this.$page=o;ie(t,this);qt(t,this);if(n){Ce(t,this);const e=this.selectOwnerComponent();if(e){if(!e.$components){e.$components=[]}e.$components.push(this);this.$parent=e;he(t,this)}N("onComponentAttached",this)}return r.apply(this,arguments)};const u=function(){N("onComponentReady",this);return s.apply(this,arguments)};const l=function(){const t=E(this);if(t.type==="component"){Be(t.option,this);const e=this.selectOwnerComponent();if(e){if(e.$components){const t=e.$components.indexOf(this);if(t>-1){e.$components.splice(t,1);this.$parent=null}}if(this.$parentProvides){this.$parentProvides.forEach((t=>{const e=t.$provideWatchers.findIndex((t=>t.context===this));if(e>-1){t.$provideWatchers.splice(e,1)}}))}}N("onComponentDetached",this)}return i.apply(this,arguments)};t.lifetimes.created=c;t.lifetimes.attached=a;t.lifetimes.ready=u;t.lifetimes.detached=l;yt(t.methods,false);t.methods[`${Y.methodPrefix}finish`]=function(t){Et(t,this.$page)};t.methods[`${Y.methodPrefix}getUrlParams`]=je;t.methods[`${Y.methodPrefix}getPageInstance`]=function(){return p(this)};Vt(t.methods);if(e===nt){xt(t.methods,"component");t[`${Y.methodPrefix}invoke`]=function(t,...e){if(this.$page.$opener&&n(this.$page.$opener[t])){this.$page.$opener[t](...e)}}}return e(t)};Component=function(t){return De(t,nt)};Behavior=function(t){return De(t,ot)};function Le(t={}){X.add(t)}function Ue(t={}){c(Y,t);Ie()}const Re={extend(t,e){if(t==="wx"){console.warn("global.extend: 不能重复定义wx")}else{Object.defineProperty(globalThis,t,{get:()=>e})}}};const Me={openPage:wx.openPage,replacePage:wx.replacePage,getStore:wx.getStore,setGlobbalData:wx.setStore,finish:wx.finish,getNavigateBarTitle:wx.getNavigateBarTitle,getTabBarPages:wx.getTabBarPages,isTabBarPage:wx.isTabBarPage,getConfigJson:wx.getConfigJson,fireEvent:wx.fireEvent};function Ie(){c(wx,Me);const{methodPrefix:t}=Y;wx[`${t}openPage`]=_t;wx[`${t}replacePage`]=Ot;wx[`${t}getStore`]=Qt;wx[`${t}setStore`]=Ht;wx[`${t}finish`]=function(t){Et(t,Ft())};wx[`${t}getNavigateBarTitle`]=x;wx[`${t}getTabBarPages`]=m;wx[`${t}isTabBarPage`]=S;wx[`${t}getConfigJson`]=$;wx[`${t}fireEvent`]=Dt;wx.getStorageSync=It;wx.setStorage=Ut;wx.setStorageSync=Wt;wx.removeStorageSync=Jt;wx.removeStorage=Mt;wx.batchSetStorage=Rt;wx.batchSetStorageSync=Nt;wx.clearStorage=Gt;wx.clearStorageSync=Kt;wx.navigateTo=At;wx.redirectTo=Ct;wx.reLaunch=Bt;wx.switchTab=jt}Ie();const We=Le;const Ne=Ue;const Je=mt;const Ge=St;const Ke=Re;const Qe={setStorage:Ut,removeStorage:Mt,getStorageSync:It,setStorageSync:Wt,removeStorageSync:Jt,clearStorage:Gt,clearStorageSync:Kt,batchSetStorage:Rt,batchSetStorageSync:Nt,setStore:Ht,getStore:Qt,reLaunch:Bt,navigateTo:At,redirectTo:Ct,switchTab:jt,getNavigateBarTitle:x,getTabBarPages:m,isTabBarPage:S,getConfigJson:$};Ke.extend("wxbuf",Qe);Object.defineProperty(Qe,"version",{get:()=>"1.0",configurable:false});var He={page:Je,watch:We,config:Ne,global:Ke,component:Ge};export{Ge as component,Ne as config,He as default,Ke as global,Je as page,We as watch};
